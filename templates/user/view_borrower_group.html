{% extends 'partials/base.html'%}
{% block title%}View Borrower Page{% endblock%}

{% block content %}
<div class="content-wrapper col-lg-9.9 "  >         
    
    
    
<!-- Content Header (Page header) -->
<section class="content-header"><h1>View Borrower Groups</h1>
</section>

<!-- Main content -->
<section class="content">
<div class="box-body">
    
<div class="box box-success" >
<form action="" class="form-horizontal" method="get" enctype="multipart/form-data" >
<input type="hidden" name="search_groups" value="1">
<div class="box-body col-lg-6 pull-left">
  <div class="row">
    <div class="col-xs-6">
      <input type="text" class="form-control" name="group_name" placeholder="Group Name or Borrower/Businses Name or Borrower #" value="" required="">
    </div>
  </div>
</div>
<div class="box-body col-lg-1 pull-left">
  <div class="row">
    <div class="col-xs-1">
        <span class="input-group-btn">
          <button type="submit" class="btn bg-olive btn-flat">Search!</button>
        </span>

        <span class="input-group-btn">
          <button type="button" class="btn bg-purple  btn-flat" >Reset!</button>
        </span>
    </div>
  </div>
</div><!-- /.box-body -->
</form>
</div><!-- /.box -->

<div class="row" style="padding-top: 40px;">
<div class="col-xs-6">
    <div class="pull-left">
        <div id="export_button">
        <div class="dt-buttons btn-group"><button class="btn btn-default buttons-collection" tabindex="0" aria-controls="view-borrowers-group" type="button" aria-haspopup="true" aria-expanded="false"><span>Export Data</span></button> </div></div>
    </div>
</div>
<div class="col-xs-6">
    <div class="pull-right">
        
<div class="btn-group-horizontal">
<a type="button" class="btn btn-default" href="">Show/Hide Columns</a>
</div>
    </div>
</div>
</div>              
<div class="box box-info">
<div class="row" style="margin-right:0.2%;margin-left:0.2%;margin-top: 1%;">
<div class="col-sm-12 table-responsive">
    <div id="view-borrowers-group_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer"><div class="pull-left"><div id="view-borrowers-group_filter" class="dataTables_filter"><label><input type="search" class="form-control input-sm" placeholder="Search groups" aria-controls="view-borrowers-group"></label></div></div><div id="view-borrowers-group_processing" class="dataTables_processing panel panel-default" style="display: none;"> Processing..</div><div class="pull-right"><div class="dataTables_length" id="view-borrowers-group_length"><label>Show <select name="view-borrowers-group_length" aria-controls="view-borrowers-group" class="form-control input-sm"><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="250">250</option><option value="500">500</option><option value="2500">2500 (Slow)</option></select> entries</label></div></div><table id="view-borrowers-group" class="table table-condensed table-hover dataTable no-footer" style="width: 100%;" role="grid" aria-describedby="view-borrowers-group_info"><thead>
            <tr style="background-color: #D1F9FF" role="row"><th class="not-export-col sorting_asc" rowspan="1" colspan="1" style="width: 78px;" aria-label="
                        View
                    ">
                        View
                    </th><th class="sorting" tabindex="0" aria-controls="view-borrowers-group" rowspan="1" colspan="1" style="width: 169px;" aria-label="
                        Group Name
                    : activate to sort column ascending">
                        Group Name
                    </th><th class="sorting_disabled" rowspan="1" colspan="1" style="width: 145px;" aria-label="
                        Borrowers
                    ">
                        Borrowers
                    </th><th class="sorting_disabled" rowspan="1" colspan="1" style="width: 181px;" aria-label="
                        Group Leader 
                    ">
                        Group Leader 
                    </th><th class="sorting" tabindex="0" aria-controls="view-borrowers-group" rowspan="1" colspan="1" style="width: 129px;" aria-label="
                        Collector
                    : activate to sort column ascending">
                        Collector
                    </th><th class="sorting" tabindex="0" aria-controls="view-borrowers-group" rowspan="1" colspan="1" style="width: 117px;" aria-label="
                        Meeting
                    : activate to sort column ascending">
                        Meeting
                    </th><th class="not-export-col sorting_disabled" rowspan="1" colspan="1" style="width: 97px;" aria-label="
                        Action
                    ">
                        Action
                    </th></tr>
       </thead>
        
    <tbody><tr class="odd"><td colspan="7" class="dataTables_empty" valign="top">No data found. <a href="">Click here to Add Borrowers Group</a></td></tr></tbody></table><div class="dataTables_info" id="view-borrowers-group_info" role="status" aria-live="polite">Showing 0 to 0 of 0 entries</div><div class="dataTables_paginate paging_simple_numbers" id="view-borrowers-group_paginate"><ul class="pagination"><li class="paginate_button previous disabled" id="view-borrowers-group_previous"><a href="#" aria-controls="view-borrowers-group" data-dt-idx="0" tabindex="0">Previous</a></li><li class="paginate_button next disabled" id="view-borrowers-group_next"><a href="#" aria-controls="view-borrowers-group" data-dt-idx="1" tabindex="0">Next</a></li></ul></div></div>
</div>
</div>
</div>
<script type="text/javascript" language="javascript">

$(document).ready(function() {

var dataTable = $('#view-borrowers-group').DataTable( {
"dom": '<"pull-left"f>r<"pull-right"l>tip',
"fixedHeader": {
    "header": true
},
"autoWidth": true,
"lengthMenu": [[20, 50, 100, 250, 500, 2500], [20, 50, 100, 250, 500, "2500 (Slow)"]],
"iDisplayLength": 20,
"processing": true,
"serverSide": true,
"language": {
    "processing": "Processing..",
    "searchPlaceholder": "Search groups",
    "emptyTable": "No data found. <a href=\"\">Click here to Add Borrowers Group</a>",
    search: ""
},
"columnDefs": [ 
    {
        "targets": [0,2,3,6], // column or columns numbers
        "orderable": false
    },
    
    {
         className: "text-right", 
         "targets": [  ] 
    }
],
"ajax":{
    url :"", // json datasource
    type: "post",  // method  , by default get
    error: function(){  // error handling
        $(".view-borrowers-group-error").html("");
        $("#view-borrowers-group").append('<tbody class="borrowers-list-error"><tr><th colspan="3">No data found in the server</th></tr></tbody>');
        $("#view-borrowers-group-processing").css("display","none");
        
    }
},
stateSave: false
} );
    
var buttons = new $.fn.dataTable.Buttons(dataTable, {
buttons: 
[
    {
        extend: 'collection',
        text: 'Export Data',
        buttons: [
            {
                text: 'Print',
                extend: 'print',
                exportOptions: {
                    columns: ':visible:not(.not-export-col)'
                },
                footer: true
            },
            {
                text: 'Copy',
                extend: 'copyHtml5',
                exportOptions: {
                    columns: ':visible:not(.not-export-col)'
                },
                footer: true
            },
            {
                text: 'Excel',
                extend: 'excelHtml5',
                exportOptions: {
                    columns: ':visible:not(.not-export-col)'
                },
                footer: true
            },
            {
                text: 'CSV',
                extend: 'csvHtml5',
                exportOptions: {
                    columns: ':visible:not(.not-export-col)'
                },
                footer: true
            }
        ]
    }
]
}).container().appendTo($('#export_button'));
} );
</script>

<script>
$( "#pre_loader" ).hide();

</script>

    </div></section>

</div>

{% endblock %}